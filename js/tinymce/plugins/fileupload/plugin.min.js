var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var e=0;return function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var e="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if(e)return e.call(a);if("number"==typeof a.length)return $jscomp.arrayIterator(a);throw Error(String(a)+" is not an iterable or ArrayLike");};
var domain=document.baseURI,finalDomains=domain+"upload.png";
tinymce.PluginManager.add("fileupload",function(a,e){a.addButton("fileupload",{tooltip:"Upload & extract text",text:"",image:finalDomains,onclick:function(){document.getElementById("myfile").click()}});a.showInvalidHtmlFileDialod=function(){eval(a.dialogInvalidHtmlFileId).Open();eval(a.dialogInvalidHtmlFileId).setzIndex(101)};var g=document.getElementById("myfile"),m=function(f){tinymce.get("textus").setProgressState(!0);var h=new FormData;h.append("file",f);$.ajax({url:"https://api.lordsignet.org/extract",
type:"POST",data:h,contentType:!1,processData:!1,cache:!1,async:!1,success:function(b){tinymce.activeEditor.setProgressState(!1);if(b)if(b&&"Not a supported file type"==b)a.notificationManager.open({text:"File type not supported",type:"error",timeout:5E3});else if(b&&"File size exceeds maximum"==b)a.notificationManager.open({text:"File size exceeds maximum",type:"error",timeout:5E3});else if(b&&"The document could not be parsed"==b)a.notificationManager.open({text:"The document could not be parsed",
type:"error",timeout:5E3});else{var c=b.split(" "),d=[],k="";if(8>=c.length)a.setContent(b);else{for(b=0;b<c.length;b+=8){var l=c.slice(b,b+8).join(" ");d.push(l)}c=$jscomp.makeIterator(d);for(d=c.next();!d.done;d=c.next())k+="<p>"+d.value+"</p>";a.setContent(k)}}else a.notificationManager.open({text:"Invalid document",type:"error",timeout:5E3})},error:function(b,c,d){tinymce.activeEditor.setProgressState(!1);a.notificationManager.open({text:"document could not be uploaded",type:"error",timeout:5E3})}})};
g.onchange=function(f){f=g.files[0];console.log(f);f&&m(f)};$(document).on("touchend","#mceu_6 #mceu_6-button",function(){document.getElementById("myfile").click()})});
